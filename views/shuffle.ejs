<%- include('partials/header', { title: "Shuffle", user }) %>

  <div class="container my-5">
    <div class="text-center mb-5">
      <h1 class="display-3 fw-bold text-gradient mb-3">Shuffle Workout</h1>
      <p class="text-secondary fs-4">Click shuffle to get your next exercise!</p>
    </div>

    <!-- Shuffle Button -->
    <% if (!workout) { %>
      <div class="text-center mb-5">
        <form method="POST" action="/workouts/shuffle">
          <button type="submit" class="shuffle-btn">
            <i class="bi bi-shuffle"></i> SHUFFLE
          </button>
        </form>
        <p class="text-muted mt-4 fs-5">Get a randomized workout card instantly</p>
      </div>
    <% } %>

    <!-- Workout Card Display -->
    <% if (workout) { %>
      <div class="row justify-content-center mb-5">
        <div class="col-lg-8">
          <div class="workout-card-display">
            <span class="badge <%= 
              workout.category === 'strength' ? 'bg-danger' :
              workout.category === 'cardio' ? 'bg-warning' :
              workout.category === 'flexibility' ? 'bg-success' : 'bg-info'
            %> mb-4" style="font-size: 1rem; padding: 0.75rem 1.5rem;">
              <%= workout.category.toUpperCase() %>
            </span>

            <h2 class="mb-4"><%= workout.name %></h2>
            <p class="lead mb-5" style="color: var(--text-secondary); font-size: 1.3rem; line-height: 1.8;">
              <%= workout.description %>
            </p>

            <div class="d-flex gap-3 justify-content-center flex-wrap">
              <form method="POST" action="/workouts/complete/<%= workout._id %>">
                <button type="submit" class="btn btn-success btn-lg px-5" onclick="celebrateSuccess()">
                  <i class="bi bi-check-circle"></i> Complete Workout
                </button>
              </form>

              <form method="POST" action="/workouts/shuffle">
                <button type="submit" class="btn btn-outline-primary btn-lg px-5">
                  <i class="bi bi-shuffle"></i> Shuffle Again
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    <% } %>



<%- include('partials/footer') %>